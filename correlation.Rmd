---
title: "Korrelation & Standardisierung"
description: |
author:
  - name: Tehilla Ostrovsky
    # url: https://example.com/norajones
    affiliation: LMU
    # affiliation_url: https://example.com/spacelysprokets
date: "`r Sys.Date()`"
output: distill::distill_article
---

## Einführung

In diesem Blog Post werden wir die folgenede Konzepte kennenlernen:

1. Korrelation und Kovarianz 
2. Die gängigen Missverständnisse zwischen Korrelation und Kausalität klären.
3. z-Standardisierung

## Was ist Korrelation?

Korrelation ist ein statistisches Maß, das das Ausmaß darstellt, in dem zwei Variablen gemeinsam variieren. Der gebräuchlichste Korrelationskoeffizient ist der Pearson-Korrelationskoeffizient, berechnet als:

$$
cor_{xy} = \sum_{i=1}^{n}(x_i - \bar{x})(y_i - \bar{y})
$$

Wo:

- \( r_{xy} \) der Korrelationskoeffizient zwischen \( x \) und \( y \) ist.

- \( x_i \) und \( y_i \) einzelne Stichprobenpunkte sind.

- \( \bar{x} \) und \( \bar{y} \) die Mittelwerte von \( x \) und \( y \) sind.

- \( n \) die Anzahl der Stichprobenpunkte ist.

## Was ist Kovarianz?

Kovarianz ist ein Maß, das angibt, wie sehr zwei Zufallsvariablen zusammen variieren. Sie wird berechnet als:

$$
cov_{x,y} = \frac{\sum_{i=1}^{n}(x_i - \bar{x})(y_i - \bar{y})}{n}
$$

## Kovarianz vs. Korrelation

- **Kovarianz** zeigt die Richtung der linearen Beziehung zwischen Variablen an. Sie gibt jedoch nicht die Stärke der Beziehung an.
- **Korrelation** hingegen ist ein standardisiertes Maß der Kovarianz, das sowohl die Stärke als auch die Richtung der linearen Beziehung zwischen zwei Variablen anzeigt.

## Korrelation vs. Kausalität

Es ist entscheidend zu verstehen, dass Korrelation keine Kausalität impliziert. Zwei Variablen können korreliert sein, ohne eine Ursache-Wirkungs-Beziehung zu haben.

## Berechnung der Korrelation in R

Jetzt berechnen wir die Korrelation in R mit der Funktion `cor()`.

```{r}
x <- c(1, 2, 3, 4, 5)
y <- c(2, 3, 4, 5, 6)
korrelation <- cor(x, y)
korrelation
```


Schritt-für-Schritt-Beispiel: Manuelle Berechnung der Korrelation

Lassen Sie uns den Korrelationskoeffizienten manuell berechnen, um den zugrundeliegenden Prozess zu verstehen:

1. Zwei Vektoren erstellen

```{r}
x = c(1, 2, 3, 4, 5)
y = c(2, 3, 4, 5, 6)
```

2. Mittelwerte berechnen

```{r}
mean_x = mean(x)
mean_x
mean_y = mean(y)
mean_y
```


3. Abweichung vom Mittelwert und Produkte berechnen

```{r}
abweichungen = (x - mean_x) * (y - mean_y)
abweichungen
```

4. Korrelation berechnen

```{r}
summe_der_produkte = sum(abweichungen)
n = length(x)
korrelation_manuell = summe_der_produkte / n
korrelation_manuell
```

-------

## Daten normalisieren mit Z-Standardisierung

In vielen statistischen Analysen, einschließlich der Korrelation, ist es oft nützlich, Ihre Daten zu standardisieren. Eine gängige Methode ist die Z-Standardisierung, die Ihre Daten so transformiert, dass sie einen Mittelwert von 0 und eine Standardabweichung von 1 haben. Dies ist besonders nützlich beim Vergleich von Punktzahlen aus verschiedenen Verteilungen.

### Was ist Z-Standardisierung?

Z-Standardisierung, auch bekannt als Z-Score-Normalisierung, beinhaltet das Abziehen des Mittelwerts und das Teilen durch die Standardabweichung für jeden Datenpunkt in einem Datensatz. Die Formel für einen Z-Score ist:

$$
Z = \frac{(X - \mu)}{\sigma}
$$

Wo:

- \( Z \) der Z-Score ist.

- \( X \) der ursprüngliche Datenpunkt ist.

- \( \mu \) der Mittelwert des Datensatzes ist.

- \( \sigma \) die Standardabweichung des Datensatzes ist.

### Vorteile der Z-Standardisierung

- **Vergleichbarkeit**: Sie macht Daten aus verschiedenen Quellen oder Verteilungen vergleichbar.
- **Umgang mit Ausreißern**: Hilft beim Identifizieren und Behandeln von Ausreißern.
- **Vorbereitung für maschinelles Lernen**: Viele Algorithmen benötigen oder funktionieren besser mit normalisierten Daten.

### Implementierung der Z-Standardisierung in R

Lassen Sie uns ein Beispiel-Dataset in R standardisieren:

1. **Ein Beispiel-Dataset erstellen**

```{r}
daten = c(10, 20, 15, 30, 25)
```

2. Mittelwert und Standardabweichung berechnen.


```{r}
mittelwert_daten = mean(daten)
sd_daten = sd(daten)
```

3. Z-Standardisierung anwenden

```{r}
z_werte = (daten - mittelwert_daten) / sd_daten
z_werte
```


## Verständnis von IQ-Werten im schulischen Umfeld

Stelle dir eine Schule vor, in der Schüler regelmäßig IQ-Tests durchführen, um ihre kognitiven Fähigkeiten zu bewerten und Bildungsprogramme auf ihre Bedürfnisse zuzuschneiden. IQ-Werte folgen typischerweise einer Normalverteilung mit einem Mittelwert (Durchschnitt) von 100 und einer Standardabweichung von 15. Das bedeutet, dass die meisten Menschen einen Wert im Bereich von 85 bis 115 erreichen.

Betrachten wir nun zwei Schüler, Maria und John. Maria erreicht bei ihrem IQ-Test 110 Punkte, und John erreicht 120 Punkte. Auf den ersten Blick sehen wir, dass John höher punktet, aber wie vergleichen sich diese Werte im Kontext der gesamten Schülerpopulation?

Hier sind Z-Werte wertvoll. Sie sagen uns, wie viele Standardabweichungen ein Wert vom Mittelwert entfernt ist.

### Marias Z-Wert

Ihr Wert ist 110. Die Formel für den Z-Wert ist:

$$
Z = \frac{(X - \mu)}{\sigma}
$$

Setzen wir Marias Wert und die Standard-IQ-Parameter ein, erhalten wir:

$$
Z = \frac{(110 - 100)}{15} \approx 0.67
$$

Das bedeutet, Marias Wert liegt etwa 0,67 Standardabweichungen über dem Durchschnitt.

### Johns Z-Wert

Johns Wert ist 120. Mit derselben Formel erhalten wir:

$$
Z = \frac{(120 - 100)}{15} \approx 1.33
$$

Johns Wert liegt etwa 1,33 Standardabweichungen über dem Durchschnitt.

### Interpretation

**Marias Leistung:** Ein Z-Wert von 0,67 zeigt, dass Marias IQ überdurchschnittlich ist. Sie punktet besser als ein bedeutender Teil ihrer Altersgenossen, befindet sich aber nicht im extrem hohen Bereich.

**Johns Leistung:** Johns Z-Wert von 1,33 platziert ihn in einem höheren Prozentbereich, was darauf hindeutet, dass sein IQ im Vergleich zu seinen Altersgenossen deutlich über dem Durchschnitt liegt.
